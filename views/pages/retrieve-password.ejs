<%-include('../includes/user/header.ejs') %>

</head>
<body>
  <%-include('../includes/user/navbar.ejs') %>
 
<form action="/retrieve-password" method="post">
  <h1 class="my-4">Reset Password</h1>
<!-- <%= JSON.stringify(ValidError)%> -->

<%= JSON.stringify(foundError)%>
<div class="mb-3 mt-3">
    <label for="uname" class="form-label">Email:</label>
    <input type="hidden" class="form-control" id="uname" placeholder="Email" name="Email" value="<%=Person.email %>" >
    <div class="valid-feedback">Valid.</div>
    <div class="invalid-feedback">Please fill out this field.</div>
    <% for (let errors of ValidError){
      if(errors.param==="Email"){ %>
        <div style="color:red"><%= errors.msg %></div>
    <% 
}
    } %>
    <div style="color: red;"> <%= foundError %></div>
  
  </div>
   

    <div class="mb-3">
      <label for="pwd" class="form-label">New Password:</label>
      <input type="password" class="form-control" id="pwd" placeholder="New Password" name="NewPassword" >
      <div class="valid-feedback">Valid.</div>
      <div class="invalid-feedback">Please fill out this field.</div>
      <%  if (ValidError.length!=0){
      for (let errors of ValidError){
        if(errors.param==="NewPassword"){ %>
          <div style="color:red"><%= errors.msg %></div>
      <% }
        }
      } %>
    </div>
    
       
   
    <div class="mb-3">
        <label for="pwd" class="form-label">Confirm Password:</label>
        <input type="password" class="form-control" id="pwd" placeholder="Confirm Password" name="ConfirmPassword" >
        <div role="alert"><% if (ValidError.length!=0){
          for(let error of ValidError){
            if(error.param=="ConfirmPassword"){ %>
               <div class="text-danger"><%= error.msg %></div>
          <%  }
            
            }
        } %>
        </div>
      
      </div>
   
    <button type="submit" class="btn btn-primary">Submit</button>

  </form>

  <%-include('../includes/user/footer.ejs') %>
</body>